// using TweenMax
// slide effect
// Pie chart effect and function
// Treehouse script and plugin for badges
// When Document is ready, build treehouse Badge Widget
function sliceSize(e,a){return e/a*360}function addSlice(e,a,t,n,o){$(a).append("<div class='slice "+n+"'><span></span></div>")
var t=t-1,s=-179+e
$("."+n).css({transform:"rotate("+t+"deg) translate3d(0,0,0)"}),$("."+n+" span").css({transform:"rotate("+s+"deg) translate3d(0,0,0)","background-color":o})}function iterateSlices(e,a,t,n,o,s){var r="s"+n+"-"+o
e<=179?addSlice(e,a,t,r,s):(addSlice(179,a,t,r,s),iterateSlices(e-179,a,t+179,n,o+1,s))}function createPie(e,a){var t=[]
$(e+" span").each(function(){t.push(Number($(this).html()))})
for(var n=0,o=0;o<t.length;o++)n+=t[o]
for(var s=0,r=["tomato","cornflowerblue","yellow","forestgreen","purple"],o=0;o<t.length;o++){var i=sliceSize(t[o],n)
iterateSlices(i,a,s,o,0,r[o]),$(e+" li:nth-child("+(o+1)+")").css("border-color",r[o]),s+=i}}TweenMax.from("#self",1,{opacity:0,rotation:360,scale:0,left:-1040,ease:Back.easeOut}),TweenMax.to("#self",1,{borderRadius:"50%",delay:.9}),TweenMax.from("#self-text",1,{opacity:0,delay:1.2}),$(window).scroll(function(){$(".slideanim").each(function(){$(this).offset().top<$(window).scrollTop()+600&&$(this).addClass("slide")})}),createPie(".pieID.legend",".pieID.pie"),$(document).ready(function(){var e=$("#badges"),a=[],t=0
$.getJSON("https://teamtreehouse.com/elvinramirez.json",function(n){var o=n.badges
$.each(o,function(e,n){a+='<li><a href="'+n.url+'" target="_blank"><img src="'+n.icon_url+'" alt="'+n.name+'" title="'+n.name+'"/></a></li>',t++}),e.append(a),$("#treehouse-count").append("Total ("+t+") badges earned at Treehouse!")})}),$(function(){function e(e){var a=$("#badges2")
e.forEach(function(e){$div=$("<div />",{class:"course"}).appendTo(a),$("<h3 />",{text:e.title}).appendTo($div),$("<img />",{src:e.badge}).appendTo($div),$("<a />",{class:"btn btn-primary",target:"_blank",href:e.url,text:"See Course"}).appendTo($div)})}$.ajax({url:"https://www.codeschool.com/users/Ramirez1900.json",dataType:"jsonp",success:function(a){e(a.courses.completed)}})})
